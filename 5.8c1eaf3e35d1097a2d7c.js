(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7Lvj":function(e,t,i){"use strict";i.r(t),i.d(t,"RecipesModule",(function(){return G}));var r=i("tyNb"),n=i("fXoL"),c=i("IkZ8"),o=i("1G5W"),b=i("xnfP"),s=i("bTqV"),p=i("ofXK");const a=function(e){return[e]};let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",index:"index"},decls:9,vars:6,consts:[["routerLinkActive","active",1,"recipe-item",3,"routerLink"],[1,"recipe-item-wrapper"],[1,"recipe-item-info"],[1,"recipe-item-img"],["width","100px","height","100px","alt","Recipe Photo",3,"src"]],template:function(e,t){1&e&&(n.Sb(0,"a",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"h3"),n.xc(4),n.Rb(),n.Sb(5,"p"),n.xc(6),n.Rb(),n.Rb(),n.Sb(7,"div",3),n.Nb(8,"img",4),n.Rb(),n.Rb(),n.Rb()),2&e&&(n.hc("routerLink",n.jc(4,a,t.index)),n.Bb(4),n.yc(t.recipe.name),n.Bb(2),n.yc(t.recipe.description),n.Bb(2),n.hc("src",t.recipe.imagePath,n.pc))},directives:[r.d,r.c],styles:[".recipe-item[_ngcontent-%COMP%]{display:block;border:1px solid #9f9b9b;border-radius:5px;padding:10px 20px;margin-bottom:20px;text-decoration:none;cursor:pointer}.recipe-item[_ngcontent-%COMP%]:first-child{margin-top:20px}.recipe-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recipe-item[_ngcontent-%COMP%]:hover{background-color:#add8e6;border-color:#a6f52e}.recipe-item[_ngcontent-%COMP%]   .recipe-item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.recipe-item[_ngcontent-%COMP%]   .recipe-item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .recipe-item[_ngcontent-%COMP%]   .recipe-item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.recipe-item[_ngcontent-%COMP%]   .recipe-item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.recipe-item[_ngcontent-%COMP%]   .recipe-item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.recipe-item.active[_ngcontent-%COMP%]{border-color:green;background:#d1f687}"]}),e})();function u(e,t){if(1&e&&(n.Qb(0),n.Nb(1,"app-recipe-item",4),n.Pb()),2&e){const e=t.$implicit,i=t.index;n.Bb(1),n.hc("recipe",e)("index",i)}}let m=(()=>{class e{constructor(e,t,i,r){this.ngOnDestroy$=e,this.recipeService=t,this.router=i,this.route=r}ngOnInit(){this.recipeService.getRecipeData().pipe(Object(o.a)(this.ngOnDestroy$)).subscribe(e=>{this.recipeService.recipes?this.recipes=this.recipeService.recipes.slice():e?(this.recipeService.recipes=e,this.recipes=this.recipeService.recipes.slice()):(this.recipeService.recipes=[],this.recipes=this.recipeService.recipes.slice())}),this.recipeService.recipeChange$.pipe(Object(o.a)(this.ngOnDestroy$)).subscribe(e=>{this.recipes=e})}addRecipe(){this.router.navigate(["new"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.a,2),n.Mb(b.a),n.Mb(r.b),n.Mb(r.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe-list"]],features:[n.Ab([c.a])],decls:7,vars:1,consts:[[1,"row"],[1,"col-md-12"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"button",2),n.Yb("click",(function(){return t.addRecipe()})),n.xc(3,"New Recipe"),n.Rb(),n.Rb(),n.Rb(),n.Sb(4,"div",0),n.Sb(5,"div",1),n.wc(6,u,2,2,"ng-container",3),n.Rb(),n.Rb()),2&e&&(n.Bb(6),n.hc("ngForOf",t.recipes))},directives:[s.b,p.j,d],styles:[""]}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Nb(2,"app-recipe-list"),n.Rb(),n.Sb(3,"div",2),n.Nb(4,"router-outlet"),n.Rb(),n.Rb())},directives:[m,r.f],styles:[""]}),e})();var h=i("IzEk"),g=i("lJxs"),v=i("N/25");let R=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return this.authService.currentUser$.pipe(Object(h.a)(1),Object(g.a)(e=>!!e||this.router.createUrlTree(["/auth"])))}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(v.a),n.Wb(r.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Sb(0,"h2"),n.xc(1,"Please select the Recipe!"),n.Rb())},styles:[""]}),e})();var S=i("quSY"),x=i("3Pt+"),M=i("kmnG"),w=i("qFsG"),O=i("ihCf");function y(e,t){1&e&&(n.Sb(0,"mat-error"),n.xc(1," Name is "),n.Sb(2,"strong"),n.xc(3,"required"),n.Rb(),n.Rb())}function C(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div",14),n.Sb(1,"div",15),n.Sb(2,"mat-form-field"),n.Nb(3,"input",5),n.Rb(),n.Rb(),n.Sb(4,"div",16),n.Sb(5,"mat-form-field"),n.Nb(6,"input",17),n.Rb(),n.Rb(),n.Sb(7,"div",16),n.Sb(8,"button",4),n.Yb("click",(function(){n.oc(e);const i=t.index;return n.cc().removeRecipe(i)})),n.xc(9,"x"),n.Rb(),n.Rb(),n.Rb()}2&e&&n.hc("formGroupName",t.index)}let P=(()=>{class e{constructor(e,t,i,r){this.route=e,this.router=t,this.fb=i,this.recipeService=r,this.subscription=new S.a,this.editMode=!1}get IngredientsControls(){return this.recipeForm.get("ingredients").controls}ngOnInit(){this.subscription.add(this.route.params.subscribe(e=>{this.id=e.id,this.editMode=null!=e.id,this.initForm()}))}initForm(){let e="",t="",i="";const r=this.fb.array([]);this.generateRecipeForm(e,t,i,r),this.editMode&&this.recipeService.getCurrentRecipeData(+this.id).subscribe(n=>{e=n.name,t=n.imagePath,i=n.description,n.ingredients&&n.ingredients.forEach(e=>{r.push(this.fb.group({name:[e.name,x.v.required],amount:[e.amount,[x.v.required,x.v.pattern(/^[1-9]+[0-9]*$/)]]}))}),this.updateRecipeForm(e,t,i)}),this.updateRecipeForm(e,t,i)}generateRecipeForm(e,t,i,r){this.recipeForm=this.fb.group({name:[e,x.v.required],imagePath:[t,x.v.required],description:[i,x.v.required],ingredients:r})}updateRecipeForm(e,t,i){this.recipeForm.patchValue({name:e,imagePath:t,description:i})}addIngredient(){const e=this.fb.group({name:["",x.v.required],amount:["",[x.v.required,x.v.pattern(/^[1-9]+[0-9]*$/)]]});this.recipeForm.get("ingredients").push(e)}onSubmit(){this.editMode?this.recipeService.updateRecipe(+this.id,this.recipeForm.value):this.recipeService.addRecipe(this.recipeForm.value),this.onCancel()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}removeRecipe(e){this.recipeForm.get("ingredients").removeAt(e)}getControl(e){return this.recipeForm.get(e)}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(r.a),n.Mb(r.b),n.Mb(x.f),n.Mb(b.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe-edit"]],decls:39,vars:5,consts:[[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"],["matInput","","type","text","formControlName","name"],[4,"ngIf"],["matInput","","type","text","formControlName","imagePath"],["imagePath",""],[1,"image-preview",3,"src"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","formControlName","description"],["formArrayName","ingredients",1,"col-12"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"row",3,"formGroupName"],[1,"col-8"],[1,"col-2"],["matInput","","type","number","formControlName","amount"]],template:function(e,t){if(1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"form",2),n.Yb("ngSubmit",(function(){return t.onSubmit()})),n.Sb(3,"div",0),n.Sb(4,"div",1),n.Sb(5,"button",3),n.xc(6,"Save"),n.Rb(),n.Sb(7,"button",4),n.Yb("click",(function(){return t.onCancel()})),n.xc(8,"Cancel"),n.Rb(),n.Rb(),n.Rb(),n.Sb(9,"div",0),n.Sb(10,"div",1),n.Sb(11,"mat-form-field"),n.Sb(12,"mat-label"),n.xc(13,"Name"),n.Rb(),n.Nb(14,"input",5),n.wc(15,y,4,0,"mat-error",6),n.Rb(),n.Rb(),n.Rb(),n.Sb(16,"div",0),n.Sb(17,"div",1),n.Sb(18,"mat-form-field"),n.Sb(19,"mat-label"),n.xc(20,"Image URL"),n.Rb(),n.Nb(21,"input",7,8),n.Rb(),n.Rb(),n.Rb(),n.Sb(23,"div",0),n.Sb(24,"div",1),n.Nb(25,"img",9),n.Rb(),n.Rb(),n.Sb(26,"div",0),n.Sb(27,"div",1),n.Sb(28,"mat-form-field"),n.Sb(29,"mat-label"),n.xc(30,"Description"),n.Rb(),n.Nb(31,"textarea",10),n.Rb(),n.Rb(),n.Rb(),n.Sb(32,"div",0),n.Sb(33,"div",11),n.wc(34,C,10,1,"div",12),n.Rb(),n.Sb(35,"div",0),n.Sb(36,"div",1),n.Sb(37,"button",13),n.Yb("click",(function(){return t.addIngredient()})),n.xc(38,"Add ingredient"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&e){const e=n.mc(22);n.Bb(2),n.hc("formGroup",t.recipeForm),n.Bb(3),n.hc("disabled",t.recipeForm.invalid),n.Bb(10),n.hc("ngIf",t.getControl("name").hasError("required")),n.Bb(10),n.hc("src",e.value,n.pc),n.Bb(9),n.hc("ngForOf",t.IngredientsControls)}},directives:[x.w,x.o,x.h,s.b,M.c,M.f,w.b,x.c,x.n,x.g,p.k,O.b,x.e,p.j,M.b,x.i,x.r],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var F=i("STbY");function k(e,t){if(1&e&&(n.Sb(0,"li",11),n.xc(1),n.Rb()),2&e){const e=t.$implicit;n.Bb(1),n.Ac("",e.name,":",e.amount,"")}}function N(e,t){if(1&e){const e=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Nb(3,"img",3),n.Rb(),n.Rb(),n.Sb(4,"div",1),n.Sb(5,"div",2),n.Sb(6,"h1"),n.xc(7),n.Rb(),n.Rb(),n.Rb(),n.Sb(8,"div",1),n.Sb(9,"div",2),n.Sb(10,"div",4),n.Sb(11,"a",5),n.xc(12,"Manage Recipe"),n.Rb(),n.Sb(13,"mat-menu",null,6),n.Sb(15,"button",7),n.Sb(16,"span"),n.xc(17,"Add Shopping list"),n.Rb(),n.Rb(),n.Sb(18,"button",8),n.Yb("click",(function(){return n.oc(e),n.cc().editRecipe()})),n.Sb(19,"span"),n.xc(20,"Edit Recipe"),n.Rb(),n.Rb(),n.Sb(21,"button",8),n.Yb("click",(function(){return n.oc(e),n.cc().deleteRecipe()})),n.Sb(22,"span"),n.xc(23,"Delete Recipe"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(24,"div",1),n.Sb(25,"div",2),n.Sb(26,"h1"),n.xc(27),n.Rb(),n.Rb(),n.Rb(),n.Sb(28,"div",1),n.Sb(29,"div",2),n.Sb(30,"ul",9),n.wc(31,k,2,2,"li",10),n.Rb(),n.Rb(),n.Rb(),n.Rb()}if(2&e){const e=n.mc(14),t=n.cc();n.Bb(3),n.hc("src",t.currentRecipe.imagePath,n.pc),n.Bb(4),n.yc(t.currentRecipe.name),n.Bb(4),n.hc("matMenuTriggerFor",e),n.Bb(16),n.yc(t.currentRecipe.description),n.Bb(4),n.hc("ngForOf",t.currentRecipe.ingredients)}}const _=[{path:"",component:l,canActivate:[R],children:[{path:"",component:f},{path:"new",component:P},{path:":id",component:(()=>{class e{constructor(e,t,i){this.recipeService=e,this.route=t,this.router=i,this.subscription=new S.a}ngOnInit(){this.subscription.add(this.route.data.subscribe(e=>{e.recipe||this.router.navigate(["/recipes"]),this.currentRecipe=e.recipe})),this.subscription.add(this.route.params.subscribe(e=>{this.id=+e.id}))}editRecipe(){this.router.navigate(["edit"],{relativeTo:this.route})}deleteRecipe(){this.recipeService.deleteRecipe(this.id),this.router.navigate(["/recipe"])}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(b.a),n.Mb(r.a),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-recipe-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-12"],["alt","img","width","200px","height","200px",3,"src"],[1,"recipe-dropdown"],["mat-raised-button","","color","accent",3,"matMenuTriggerFor"],["recipeDropdown","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"recipe-ingredient"],["class","recipe-ingredient-item",4,"ngFor","ngForOf"],[1,"recipe-ingredient-item"]],template:function(e,t){1&e&&n.wc(0,N,32,5,"div",0),2&e&&n.hc("ngIf",t.currentRecipe)},directives:[p.k,s.a,F.c,F.d,F.a,p.j],styles:[".recipe-ingredient[_ngcontent-%COMP%]{list-style-type:none;padding:0}.recipe-ingredient[_ngcontent-%COMP%]   .recipe-ingredient-item[_ngcontent-%COMP%]{width:100%;padding:15px;border:1px solid #a09999;border-radius:5px;margin-bottom:10px}.recipe-ingredient[_ngcontent-%COMP%]   .recipe-ingredient-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]}),e})(),resolve:{recipe:i("XnUR").a}},{path:":id/edit",component:P}]}];let I=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(_)],r.e]}),e})();var B=i("PCNd");let G=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[B.a,I]]}),e})()}}]);