(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,e,o){"use strict";o.r(e),o.d(e,"AuthModule",(function(){return w}));var n=o("tyNb"),r=o("fXoL"),i=o("bTqV");let s=(()=>{class t{constructor(){this.close=new r.o}onCLose(){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:6,vars:1,consts:[[1,"backdrop"],[1,"alert-box"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"p"),r.xc(3),r.Rb(),r.Sb(4,"button",2),r.Yb("click",(function(){return e.onCLose()})),r.xc(5,"Close"),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(3),r.yc(e.message))},directives:[i.b],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);justify-content:center;z-index:50}.alert-box[_ngcontent-%COMP%], .backdrop[_ngcontent-%COMP%]{display:flex;align-items:center}.alert-box[_ngcontent-%COMP%]{width:400px;height:auto;background:#fcb0b0;color:#000;padding:20px;justify-content:space-around}.alert-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:70%}.alert-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}"]}),t})(),c=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R))},t.\u0275dir=r.Hb({type:t,selectors:[["","appPlaceHolder",""]]}),t})();var a=o("IkZ8"),b=o("1G5W"),l=o("N/25"),u=o("3Pt+"),d=o("kmnG"),p=o("qFsG");function m(t,e){}const h=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.ngOnDestroy$=t,this.authService=e,this.router=o,this.componentFactoryResolver=n,this.isLoginMode=!0}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(t){if(t.invalid)return;const e=t.value.email,o=t.value.password;this.isLoginMode?this.authService.logIn(e,o).subscribe(t=>{this.router.navigate(["/recipes"])},t=>{this.error=t,this.showErrorAlert(t)}):this.authService.singUp(e,o).subscribe(t=>{this.router.navigate(["/recipes"])},t=>{this.error=t,this.showErrorAlert(t)}),t.reset()}onClose(){this.error=""}showErrorAlert(t){const e=this.componentFactoryResolver.resolveComponentFactory(s),o=this.alertHost.viewContainerRef;o.clear();const n=o.createComponent(e);n.instance.message=t,n.instance.close.pipe(Object(b.a)(this.ngOnDestroy$)).subscribe(()=>{o.clear()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a.a,2),r.Mb(l.a),r.Mb(n.b),r.Mb(r.j))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-auth"]],viewQuery:function(t,e){var o;1&t&&r.Bc(c,!0),2&t&&r.lc(o=r.Zb())&&(e.alertHost=o.first)},features:[r.Ab([a.a])],decls:23,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["appPlaceHolder",""],[3,"ngSubmit"],["loginForm","ngForm"],[1,"col-4"],["matInput","","type","email","ngModel","","name","email","required","","email",""],["matInput","","type","password","ngModel","","name","password","required",""],["mat-raised-button","","color","primary",3,"disabled"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",0),r.Sb(1,"div",1),r.wc(2,m,0,0,"ng-template",2),r.Sb(3,"form",3,4),r.Yb("ngSubmit",(function(){r.oc(t);const o=r.mc(4);return e.onSubmit(o)})),r.Sb(5,"div",0),r.Sb(6,"div",5),r.Sb(7,"mat-form-field"),r.Sb(8,"mat-label"),r.xc(9,"E-Mail"),r.Rb(),r.Nb(10,"input",6),r.Rb(),r.Rb(),r.Rb(),r.Sb(11,"div",0),r.Sb(12,"div",5),r.Sb(13,"mat-form-field"),r.Sb(14,"mat-label"),r.xc(15,"Password"),r.Rb(),r.Nb(16,"input",7),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"div"),r.Sb(18,"button",8),r.xc(19),r.Rb(),r.xc(20," | "),r.Sb(21,"button",9),r.Yb("click",(function(){return e.onSwitchMode()})),r.xc(22),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.mc(4);r.Bb(18),r.hc("disabled",t.invalid),r.Bb(1),r.yc(e.isLoginMode?"Log in":"Sing up"),r.Bb(3),r.zc("Switch to ",e.isLoginMode?"Sing up":"Log in","")}},directives:[c,u.w,u.o,u.p,d.c,d.f,p.b,u.c,u.n,u.q,u.u,u.d,i.b],styles:[".error[_ngcontent-%COMP%]{color:red;font-size:18px;padding:15px;background:#e1e787}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[n.e.forChild(h)],n.e]}),t})();var f=o("PCNd");let w=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[f.a,g]]}),t})()}}]);